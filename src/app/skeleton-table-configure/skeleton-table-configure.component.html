<div>
    <div class="filterSection">
        <mat-form-field appearance="fill" style="margin:20px">
            <mat-label style="color: white;">Select Institute</mat-label>
            <mat-select [(value)]="selectedInstitute" required (valueChange)="onChangeInstitute($event)" class="styleSelect">
                <mat-option [value]="institute.instituteID" *ngFor="let institute of institutes">{{
                    institute.instituteName
                    }}</mat-option>
            </mat-select>
        </mat-form-field>

        <mat-form-field appearance="fill" style="margin:20px">
            <mat-label style="color: white;">Select Regulation</mat-label>
            <mat-select [(value)]="selectedRegulation" required (valueChange)="onChangeRegulation($event)" class="styleSelect">
                <mat-option [value]="regulation.regulationId" *ngFor="let regulation of regulations">{{
                    regulation.regulationName
                    }}</mat-option>
            </mat-select>
        </mat-form-field>

        <mat-form-field appearance="fill" style="margin:20px">
            <mat-label style="color: white;">Select Department</mat-label>
            <mat-select [(value)]="selectedDepartment" (valueChange)="onChangeDepartment($event)" class="styleSelect">
                <mat-option [value]="department.departmentId" *ngFor="let department of departments">{{
                    department.departmentName
                    }}</mat-option>
            </mat-select>
        </mat-form-field>

        <mat-form-field appearance="fill" style="margin:20px">
            <mat-label style="color: white;">Select Curriculums</mat-label>
            <mat-select [(value)]="selectedCurriculum" required (valueChange)="onChangeCurriculum($event)" class="styleSelect">
                <mat-option [value]="curriculum.curriculumId" *ngFor="let curriculum of curriculums">{{
                    curriculum.curriculumName
                    }}</mat-option>
            </mat-select>
        </mat-form-field>

        <mat-form-field appearance="fill" style="margin:20px">
            <mat-label style="color: white;">Select Semester</mat-label>
            <mat-select [(value)]="selectedSemester" required (valueChange)="onChangeSemester($event)" class="styleSelect">
                <mat-option [value]="sem.semesterNo" *ngFor="let sem of semesters">{{ sem.semesterNo
                    }}</mat-option>
            </mat-select>
        </mat-form-field>

        <!-- <mat-form-field appearance="fill" style="margin:20px">
            <mat-label>Select Subject</mat-label>
            <mat-select [(value)]="selectedSubject" required (valueChange)="onChangeSubject($event)">
                <mat-option [value]="subject.Subject_Code" *ngFor="let subject of subjects">{{ subject.Subject_Name
                    }}</mat-option>
            </mat-select>
        </mat-form-field> -->


        <button class="customButton" mat-raised-button color="primary" id="switchSubjectButton" (click)="switchSubject()">Search</button>
    </div>

    <div  *ngIf="showData == true">
       
        <!-- <mat-toolbar style="margin-left: 3rem;
        width: 90%;
        margin-bottom: -2rem;
        height: auto;">
            <span>Subject List:</span>
        </mat-toolbar> -->
        <table mat-table [dataSource]="subjects" #evaluationCriteriaTable id="evaluationCriteriaTable"
            class="mat-elevation-z8 customTable">

            <ng-container matColumnDef="id">
                <th mat-header-cell  *matHeaderCellDef [style.display]="'none'"> ID. </th>
                <td mat-cell *matCellDef="let subject" [style.display]="'none'"> {{subject._id}} </td>
            </ng-container>

            <ng-container matColumnDef="subjectName" style="padding:20px">
                <th class="customHeader" mat-header-cell *matHeaderCellDef style="padding:20px"> Subject Name </th>
                <td mat-cell *matCellDef="let subject" style="padding:20px"> {{subject.Subject_Name}}
                </td>
            </ng-container>

            <ng-container matColumnDef="subjectCode">
                <th mat-header-cell *matHeaderCellDef> Subject Code </th>
                <td mat-cell *matCellDef="let subject"> {{subject.Subject_Code}} </td>
            </ng-container>

            <ng-container matColumnDef="subjectType">
                <th mat-header-cell *matHeaderCellDef> Subject Type </th>
                <td mat-cell *matCellDef="let subject"> {{subject.Type}} </td>
            </ng-container>

            <ng-container matColumnDef="credits">
                <th mat-header-cell *matHeaderCellDef> Credits </th>
                
                <td mat-cell *matCellDef="let subject"> {{subject.Credits}} </td>
            </ng-container>

            <!-- <ng-container matColumnDef="passingPercentage">
                <th mat-header-cell *matHeaderCellDef> Passing Percentage </th>
                <td mat-cell *matCellDef="let subject"> {{subject.evalCriteria.passing_percentage}} </td>
            </ng-container> -->


            <ng-container matColumnDef="assignPattern">
                <th mat-header-cell *matHeaderCellDef> Assign Pattern </th>
                <td mat-cell *matCellDef="let subject">
                    <mat-form-field appearance="fill">
                        <mat-select appearance="fill" required
                            (valueChange)="onChangeSubject($event)" class="styleSelect">
                            <mat-option [value]="subject.subject_type" *ngFor="let subject of defaultSubjects">{{
                                subject.subject_type
                                }}</mat-option>
                        </mat-select>
                    </mat-form-field>
                </td>
            </ng-container>


            <ng-container matColumnDef="status">
                <th mat-header-cell *matHeaderCellDef> Status </th>
                <td mat-cell *matCellDef="" class="action-link">

                    <p style="color: #84f384;"> Edited </p>
                    <!-- <button mat-button class="green-icon" (click)="openDialog()">
                        <mat-icon>edit</mat-icon>
                    </button>

                    <button mat-button color="warn" (click)="openDialog()">
                        <mat-icon>delete</mat-icon>
                    </button> -->
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns2"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns2;"></tr>
        </table>
        <!-- <mat-toolbar style="margin: auto; width: 90%;">
            <span>Total: {{Total}}</span>
        </mat-toolbar> -->
        <!-- <button mat-raised-button (click)="onSubmitContributors()" color="primary"
            class="bottomButtonGroup">Submit</button>
        <button mat-raised-button id="addNewEvaluation" color="primary" class="floatingButtonAdd"
            (click)="openDialog('Add', {})">+</button> -->


    </div>
</div>